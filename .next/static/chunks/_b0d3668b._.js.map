{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/%28app%29/profile/page.tsx"],"sourcesContent":["\n'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { onAuthStateChanged } from 'firebase/auth';\nimport { auth, db } from '@/lib/firebase';\nimport { doc, getDoc } from 'firebase/firestore';\nimport { Loader2 } from 'lucide-react';\n\nexport default function ProfileRedirectPage() {\n  const router = useRouter();\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, async (user) => {\n      if (user) {\n        try {\n            const userDoc = await getDoc(doc(db, 'users', user.uid));\n            if (userDoc.exists()) {\n                const username = userDoc.data().username;\n                if(username) {\n                    router.replace(`/profile/${username}`);\n                    // No need to set loading to false, redirection is happening\n                    return;\n                }\n            }\n             // Fallback if user doc or username not found\n            console.warn(\"User document or username not found, redirecting to explore.\");\n            router.replace('/explore');\n\n        } catch (e) {\n            console.error(\"Failed to get user document for redirect\", e);\n             router.replace('/explore');\n        }\n      } else {\n         router.replace('/login');\n      }\n      // This will only be reached if not redirected above\n      setLoading(false);\n    });\n\n    return () => unsubscribe();\n  }, [router]);\n  \n  // Render a loading state while redirecting\n  if (loading) {\n    return (\n        <div className=\"flex h-screen w-full items-center justify-center\">\n            <Loader2 className=\"h-12 w-12 animate-spin text-primary\" />\n        </div>\n    );\n  }\n\n  // Fallback content in case redirect takes time or fails without error\n  return (\n    <div className=\"flex h-screen w-full items-center justify-center\">\n        <p>YÃ¶nlendiriliyor...</p>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;;;AAPA;;;;;;;AASe,SAAS;;IACtB,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;yCAAE;YACR,MAAM,cAAc,CAAA,GAAA,oPAAA,CAAA,qBAAkB,AAAD,EAAE,yHAAA,CAAA,OAAI;6DAAE,OAAO;oBAClD,IAAI,MAAM;wBACR,IAAI;4BACA,MAAM,UAAU,MAAM,CAAA,GAAA,sKAAA,CAAA,SAAM,AAAD,EAAE,CAAA,GAAA,sKAAA,CAAA,MAAG,AAAD,EAAE,yHAAA,CAAA,KAAE,EAAE,SAAS,KAAK,GAAG;4BACtD,IAAI,QAAQ,MAAM,IAAI;gCAClB,MAAM,WAAW,QAAQ,IAAI,GAAG,QAAQ;gCACxC,IAAG,UAAU;oCACT,OAAO,OAAO,CAAC,CAAC,SAAS,EAAE,UAAU;oCACrC,4DAA4D;oCAC5D;gCACJ;4BACJ;4BACC,6CAA6C;4BAC9C,QAAQ,IAAI,CAAC;4BACb,OAAO,OAAO,CAAC;wBAEnB,EAAE,OAAO,GAAG;4BACR,QAAQ,KAAK,CAAC,4CAA4C;4BACzD,OAAO,OAAO,CAAC;wBACpB;oBACF,OAAO;wBACJ,OAAO,OAAO,CAAC;oBAClB;oBACA,oDAAoD;oBACpD,WAAW;gBACb;;YAEA;iDAAO,IAAM;;QACf;wCAAG;QAAC;KAAO;IAEX,2CAA2C;IAC3C,IAAI,SAAS;QACX,qBACI,6LAAC;YAAI,WAAU;sBACX,cAAA,6LAAC,oNAAA,CAAA,UAAO;gBAAC,WAAU;;;;;;;;;;;IAG7B;IAEA,sEAAsE;IACtE,qBACE,6LAAC;QAAI,WAAU;kBACX,cAAA,6LAAC;sBAAE;;;;;;;;;;;AAGX;GAlDwB;;QACP,qIAAA,CAAA,YAAS;;;KADF","debugId":null}}]
}