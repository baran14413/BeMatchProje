{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 207, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/ai/genkit.ts"],"sourcesContent":["/**\n * @fileoverview This file initializes and configures the Genkit AI library.\n * It sets up the necessary plugins, in this case, the Google AI plugin for generative models.\n * It exports a configured `ai` object that can be used throughout the application to define\n * and run AI flows, prompts, and tools.\n */\nimport {genkit} from 'genkit';\nimport {googleAI} from '@genkit-ai/googleai';\nimport {firebase} from \"firebase-admin/lib/firebase-namespace-api\";\nimport App = firebase.app.App;\n\nexport const ai = genkit({\n  plugins: [\n    googleAI({\n      // The Gemini API key is currently read from the `GEMINI_API_KEY`\n      // environment variable.\n    }),\n  ],\n  // Flows are now auto-registered, so we don't need to list them here.\n  // This breaks the circular dependency between this file and the flow files.\n  flows: [],\n});\n"],"names":[],"mappings":"AAAA;;;;;CAKC;;;AACD;AAAA;AACA;AAAA;;;AAIO,MAAM,KAAK,CAAA,GAAA,uIAAA,CAAA,SAAM,AAAD,EAAE;IACvB,SAAS;QACP,CAAA,GAAA,2KAAA,CAAA,WAAQ,AAAD,EAAE;QAGT;KACD;IACD,qEAAqE;IACrE,4EAA4E;IAC5E,OAAO,EAAE;AACX","debugId":null}},
    {"offset": {"line": 256, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/ai/flows/log-activity-flow.ts"],"sourcesContent":["\n'use server';\n/**\n * @fileOverview A Genkit flow for logging user activity.\n *\n * - logActivity - Logs user activity with IP and user agent.\n * - LogActivityInput - The input type for the logActivity function.\n * - LogActivityOutput - The return type for the logActivity function.\n */\n\nimport { ai } from '@/ai/genkit';\nimport { z } from 'genkit';\nimport { getFirestore, serverTimestamp, addDoc, collection } from 'firebase-admin/firestore';\nimport { initializeApp, getApps } from 'firebase-admin/app';\n\nconst LogActivityInputSchema = z.object({\n  userId: z.string().describe('The UID of the user.'),\n  userName: z.string().describe('The name of the user.'),\n  userAvatar: z.string().describe('The avatar URL of the user.'),\n  ipAddress: z.string().describe('The IP address of the user.'),\n  userAgent: z.string().describe('The user agent string of the user\\'s browser.'),\n  activity: z.string().describe('The description of the activity performed by the user.')\n});\nexport type LogActivityInput = z.infer<typeof LogActivityInputSchema>;\n\nconst LogActivityOutputSchema = z.object({\n  success: z.boolean(),\n  error: z.string().optional(),\n});\nexport type LogActivityOutput = z.infer<typeof LogActivityOutputSchema>;\n\nexport async function logActivity(input: LogActivityInput): Promise<LogActivityOutput> {\n    return logActivityFlow(input);\n}\n\nconst logActivityFlow = ai.defineFlow(\n  {\n    name: 'logActivityFlow',\n    inputSchema: LogActivityInputSchema,\n    outputSchema: LogActivityOutputSchema,\n  },\n  async (input) => {\n    if (!getApps().length) {\n        initializeApp();\n    }\n    const db = getFirestore();\n\n    try {\n        await addDoc(collection(db, 'activityLogs'), {\n            user: {\n                uid: input.userId,\n                name: input.userName,\n                avatarUrl: input.userAvatar,\n            },\n            activity: input.activity,\n            ipAddress: input.ipAddress,\n            userAgent: input.userAgent,\n            timestamp: serverTimestamp(),\n        });\n        return { success: true };\n    } catch (error: any) {\n        console.error(`Failed to log activity for user ${input.userId}:`, error);\n        return { success: false, error: `Activity logging failed: ${error.message}` };\n    }\n  }\n);\n"],"names":[],"mappings":";;;;;AAEA;;;;;;CAMC,GAED;AACA;AAAA;AACA;AACA;;;;;;;;;;;;;AAEA,MAAM,yBAAyB,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACtC,QAAQ,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IAC5B,UAAU,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IAC9B,YAAY,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IAChC,WAAW,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IAC/B,WAAW,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IAC/B,UAAU,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;AAChC;AAGA,MAAM,0BAA0B,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACvC,SAAS,uIAAA,CAAA,IAAC,CAAC,OAAO;IAClB,OAAO,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ;AAC5B;AAGO,eAAe,YAAY,KAAuB;IACrD,OAAO,gBAAgB;AAC3B;AAEA,MAAM,kBAAkB,mHAAA,CAAA,KAAE,CAAC,UAAU,CACnC;IACE,MAAM;IACN,aAAa;IACb,cAAc;AAChB,GACA,OAAO;IACL,IAAI,CAAC,CAAA,GAAA,gJAAA,CAAA,UAAO,AAAD,IAAI,MAAM,EAAE;QACnB,CAAA,GAAA,gJAAA,CAAA,gBAAa,AAAD;IAChB;IACA,MAAM,KAAK,CAAA,GAAA,4JAAA,CAAA,eAAY,AAAD;IAEtB,IAAI;QACA,MAAM,CAAA,GAAA,4JAAA,CAAA,SAAM,AAAD,EAAE,CAAA,GAAA,4JAAA,CAAA,aAAU,AAAD,EAAE,IAAI,iBAAiB;YACzC,MAAM;gBACF,KAAK,MAAM,MAAM;gBACjB,MAAM,MAAM,QAAQ;gBACpB,WAAW,MAAM,UAAU;YAC/B;YACA,UAAU,MAAM,QAAQ;YACxB,WAAW,MAAM,SAAS;YAC1B,WAAW,MAAM,SAAS;YAC1B,WAAW,CAAA,GAAA,4JAAA,CAAA,kBAAe,AAAD;QAC7B;QACA,OAAO;YAAE,SAAS;QAAK;IAC3B,EAAE,OAAO,OAAY;QACjB,QAAQ,KAAK,CAAC,CAAC,gCAAgC,EAAE,MAAM,MAAM,CAAC,CAAC,CAAC,EAAE;QAClE,OAAO;YAAE,SAAS;YAAO,OAAO,CAAC,yBAAyB,EAAE,MAAM,OAAO,EAAE;QAAC;IAChF;AACF;;;IAjCoB;;AAAA,+OAAA","debugId":null}},
    {"offset": {"line": 343, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/config/bot-config.ts"],"sourcesContent":["\n/**\n * @fileOverview Bu dosya, sohbet botlarının yapılandırmasını içerir.\n * Botlar için Türkçe kadın isimleri listesini ve sohbetlerde\n * kullanabilecekleri önceden tanımlanmış bir dizi yanıtı barındırır.\n */\n\nexport const botNames: string[] = [\n    \"Ayşe\", \"Fatma\", \"Zeynep\", \"Emine\", \"Hatice\", \"Meryem\", \"Elif\", \"Büşra\",\n    \"Sultan\", \"Seda\", \"Aslı\", \"Ceren\", \"Derya\", \"Ebru\", \"Funda\", \"Gizem\",\n    \"Hande\", \"İrem\", \"Kübra\", \"Leyla\", \"Melis\", \"Nazlı\", \"Özge\", \"Pınar\",\n    \"Selin\", \"Tuğba\", \"Yasemin\", \"Burcu\", \"Canan\", \"Deniz\"\n];\n\n// Messages the bot can send as the very first message\nexport const botOpenerMessages: string[] = [\n    \"Selam :)\",\n    \"Merhaba!\",\n    \"Naber?\",\n    \"Slm\",\n    \"Heyy\",\n];\n\n// A large pool of random replies the bot can use during the conversation\nexport const botReplies: string[] = [\n    // Basic Greetings & Conversation Starters\n    \"Merhaba!\", \"Selam, nasılsın?\", \"İyiyim teşekkürler, sen nasılsın?\",\n    \"Ne yapıyorsun?\", \"Günün nasıl geçiyor?\", \"Naber?\", \"Hey!\", \"Slm\",\n\n    // Reactions & Fillers\n    \"Anladım.\", \"Haha, komikmiş.\", \"Hmm, ilginç.\", \"Buna sevindim.\",\n    \"Üzüldüm bunu duyduğuma.\", \"Evet, haklısın.\", \"Gerçekten mi?\", \"Aynen.\",\n    \"Olabilir.\", \"Tamamdır.\", \"Peki.\", \"Doğrudur.\", \"İnanmıyorum!\", \"Harika!\",\n\n    // Questions\n    \"Nerede yaşıyorsun?\", \"Ne iş yapıyorsun?\", \"Hobilerin neler?\",\n    \"Burcun ne?\", \"En sevdiğin film ne?\", \"Müzik zevkin nasıl?\", \"Hafta sonu ne yapıyorsun?\",\n\n    // Slightly Flirty / Playful\n    \"Gözlerin çok güzelmiş.\", \"Gülüşün çok tatlı.\", \"Enerjin çok yüksek.\",\n    \"Seninle konuşmak keyifli.\", \"Bir kahve içsek mi bir ara?\", \"Beni eklesene?\",\n    \"Profiline baktım da, çok hoş.\", \"DM'den yürüyelim mi? ;)\", \"Bana bir şarkı önerir misin?\",\n\n    // Complaining / Boredom\n    \"Bugün canım biraz sıkkın.\", \"Of, çok sıkıldım.\", \"Yapacak bir şey bulamıyorum.\",\n    \"Hava da bir garip.\", \"Keşke tatil olsa.\",\n\n    // Random Statements\n    \"Aklıma bir fikir geldi.\", \"Dur bi dakika...\", \"Ne diyeceğimi unuttum.\",\n    \"Bu arada...\", \"Şey aslında...\", \"Bugün çok yoruldum.\",\n    \n    // Direct Actions\n    \"Bana beğeni atar mısın?\", \"Profilimi takip etmelisin bence.\", \"Son gönderime bir yorum yaparsan sevinirim.\",\n    \"Beni ekle, daha rahat konuşuruz.\", \"Seni favorilerime ekledim.\",\n\n    // Evasive / Ending Conversation\n    \"Daha sonra konuşalım mı?\", \"Biraz işim var da.\", \"Şimdi çıkmam lazım.\",\n    \"Neyse, sonra görüşürüz.\", \"Ben kaçtım!\", \"Yatmam lazım, iyi geceler.\",\n\n    // More variety\n    \"Pizza mı, hamburger mi?\", \"Kedi insanı mısın köpek mi?\", \"En son okuduğun kitap neydi?\",\n    \"Yaz mı, kış mı?\", \"Sabah insanı mısın, gece kuşu mu?\", \"Süper gücün olsa ne olurdu?\",\n    \"Tatlı mı, tuzlu mu seversin?\", \"En sevdiğin renk ne?\", \"Hayalindeki tatil yeri neresi?\",\n    \"Çay mı, kahve mi?\", \"Klasik.\", \"Beklenmedik bir cevap.\", \"Bunu sevdim.\", \"Fena değil.\",\n    \"Daha iyi olabilir.\", \"Emin misin?\", \"Şaka yapıyorsun!\", \"Ciddi olamazsın.\", \"Vay canına.\",\n    \"Bunu beklemiyordum.\", \"Anlat anlat, dinliyorum.\", \"Çok ilginç bir konu.\",\n    \"Bu konu hakkında saatlerce konuşabilirim.\", \"Hiç bu açıdan düşünmemiştim.\",\n    \"Bana yeni bir bakış açısı kazandırdın.\", \"Teşekkür ederim.\", \"Rica ederim.\",\n    \"Lütfen.\", \"Afiyet olsun.\", \"Geçmiş olsun.\", \"Tebrikler!\", \"Bol şans!\", \"Kolay gelsin.\"\n];\n"],"names":[],"mappings":"AACA;;;;CAIC;;;;;AAEM,MAAM,WAAqB;IAC9B;IAAQ;IAAS;IAAU;IAAS;IAAU;IAAU;IAAQ;IAChE;IAAU;IAAQ;IAAQ;IAAS;IAAS;IAAQ;IAAS;IAC7D;IAAS;IAAQ;IAAS;IAAS;IAAS;IAAS;IAAQ;IAC7D;IAAS;IAAS;IAAW;IAAS;IAAS;CAClD;AAGM,MAAM,oBAA8B;IACvC;IACA;IACA;IACA;IACA;CACH;AAGM,MAAM,aAAuB;IAChC,0CAA0C;IAC1C;IAAY;IAAoB;IAChC;IAAkB;IAAwB;IAAU;IAAQ;IAE5D,sBAAsB;IACtB;IAAY;IAAmB;IAAgB;IAC/C;IAA2B;IAAmB;IAAiB;IAC/D;IAAa;IAAa;IAAS;IAAa;IAAgB;IAEhE,YAAY;IACZ;IAAsB;IAAqB;IAC3C;IAAc;IAAwB;IAAuB;IAE7D,4BAA4B;IAC5B;IAA0B;IAAsB;IAChD;IAA6B;IAA+B;IAC5D;IAAiC;IAA2B;IAE5D,wBAAwB;IACxB;IAA6B;IAAqB;IAClD;IAAsB;IAEtB,oBAAoB;IACpB;IAA2B;IAAoB;IAC/C;IAAe;IAAkB;IAEjC,iBAAiB;IACjB;IAA2B;IAAoC;IAC/D;IAAoC;IAEpC,gCAAgC;IAChC;IAA4B;IAAsB;IAClD;IAA2B;IAAe;IAE1C,eAAe;IACf;IAA2B;IAA+B;IAC1D;IAAmB;IAAqC;IACxD;IAAgC;IAAwB;IACxD;IAAqB;IAAW;IAA0B;IAAgB;IAC1E;IAAsB;IAAe;IAAoB;IAAoB;IAC7E;IAAuB;IAA4B;IACnD;IAA6C;IAC7C;IAA0C;IAAoB;IAC9D;IAAW;IAAiB;IAAiB;IAAc;IAAa;CAC3E","debugId":null}},
    {"offset": {"line": 501, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/ai/flows/bot-chat-flow.ts"],"sourcesContent":["\n'use server';\n/**\n * @fileOverview A flow for handling bot responses in random chats without AI.\n *\n * - botChatFlow - Generates a bot response from a predefined list and adds it to the conversation.\n * - BotChatInput - The input type for the botChatFlow function.\n * - BotChatOutput - The return type for the botChatFlow function.\n */\n\nimport { z } from 'zod';\nimport { getFirestore, serverTimestamp, addDoc, collection, doc, getDoc } from 'firebase-admin/firestore';\nimport { initializeApp, getApps } from 'firebase-admin/app';\nimport { botReplies } from '@/config/bot-config';\n\nconst BotChatInputSchema = z.object({\n  conversationId: z.string().describe('The ID of the temporary conversation.'),\n  currentUserId: z.string().describe('The ID of the human user in the conversation.')\n});\nexport type BotChatInput = z.infer<typeof BotChatInputSchema>;\n\nconst BotChatOutputSchema = z.object({\n  success: z.boolean(),\n  error: z.string().optional(),\n});\nexport type BotChatOutput = z.infer<typeof BotChatOutputSchema>;\n\n\nexport async function botChatFlow(input: BotChatInput): Promise<BotChatOutput> {\n    const parsedInput = BotChatInputSchema.safeParse(input);\n    if (!parsedInput.success) {\n        return { success: false, error: 'Invalid input.' };\n    }\n    \n    const { conversationId, currentUserId } = parsedInput.data;\n\n    if (!getApps().length) {\n        initializeApp();\n    }\n    const db = getFirestore();\n\n    try {\n        const convoRef = doc(db, 'temporaryConversations', conversationId);\n        const convoSnap = await getDoc(convoRef);\n\n        if (!convoSnap.exists()) {\n            return { success: false, error: 'Conversation not found.' };\n        }\n\n        const conversation = convoSnap.data();\n        const users = conversation.users as string[];\n        \n        // Find the bot's ID by finding the user that is NOT the current user\n        const botId = users.find(uid => uid !== currentUserId && uid.startsWith('bot_'));\n\n        if (!botId) {\n            return { success: false, error: 'This is not a bot conversation or bot could not be identified.' };\n        }\n\n        // Simple logic to select a random reply from the config\n        const reply = botReplies[Math.floor(Math.random() * botReplies.length)];\n\n        // Add bot's message to the subcollection\n        const messagesRef = collection(convoRef, 'messages');\n        await addDoc(messagesRef, {\n            text: reply,\n            senderId: botId,\n            timestamp: serverTimestamp(),\n        });\n        \n        return { success: true };\n    } catch (error: any) {\n        console.error(`Bot chat flow failed for convo ${conversationId}:`, error);\n        return { success: false, error: `Bot response failed: ${error.message}` };\n    }\n}\n"],"names":[],"mappings":";;;;;AAEA;;;;;;CAMC,GAED;AACA;AACA;AACA;;;;;;;;;;;;;AAEA,MAAM,qBAAqB,oIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAClC,gBAAgB,oIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IACpC,eAAe,oIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;AACrC;AAGA,MAAM,sBAAsB,oIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACnC,SAAS,oIAAA,CAAA,IAAC,CAAC,OAAO;IAClB,OAAO,oIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ;AAC5B;AAIO,eAAe,YAAY,KAAmB;IACjD,MAAM,cAAc,mBAAmB,SAAS,CAAC;IACjD,IAAI,CAAC,YAAY,OAAO,EAAE;QACtB,OAAO;YAAE,SAAS;YAAO,OAAO;QAAiB;IACrD;IAEA,MAAM,EAAE,cAAc,EAAE,aAAa,EAAE,GAAG,YAAY,IAAI;IAE1D,IAAI,CAAC,CAAA,GAAA,gJAAA,CAAA,UAAO,AAAD,IAAI,MAAM,EAAE;QACnB,CAAA,GAAA,gJAAA,CAAA,gBAAa,AAAD;IAChB;IACA,MAAM,KAAK,CAAA,GAAA,4JAAA,CAAA,eAAY,AAAD;IAEtB,IAAI;QACA,MAAM,WAAW,CAAA,GAAA,4JAAA,CAAA,MAAG,AAAD,EAAE,IAAI,0BAA0B;QACnD,MAAM,YAAY,MAAM,CAAA,GAAA,4JAAA,CAAA,SAAM,AAAD,EAAE;QAE/B,IAAI,CAAC,UAAU,MAAM,IAAI;YACrB,OAAO;gBAAE,SAAS;gBAAO,OAAO;YAA0B;QAC9D;QAEA,MAAM,eAAe,UAAU,IAAI;QACnC,MAAM,QAAQ,aAAa,KAAK;QAEhC,qEAAqE;QACrE,MAAM,QAAQ,MAAM,IAAI,CAAC,CAAA,MAAO,QAAQ,iBAAiB,IAAI,UAAU,CAAC;QAExE,IAAI,CAAC,OAAO;YACR,OAAO;gBAAE,SAAS;gBAAO,OAAO;YAAiE;QACrG;QAEA,wDAAwD;QACxD,MAAM,QAAQ,8HAAA,CAAA,aAAU,CAAC,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,8HAAA,CAAA,aAAU,CAAC,MAAM,EAAE;QAEvE,yCAAyC;QACzC,MAAM,cAAc,CAAA,GAAA,4JAAA,CAAA,aAAU,AAAD,EAAE,UAAU;QACzC,MAAM,CAAA,GAAA,4JAAA,CAAA,SAAM,AAAD,EAAE,aAAa;YACtB,MAAM;YACN,UAAU;YACV,WAAW,CAAA,GAAA,4JAAA,CAAA,kBAAe,AAAD;QAC7B;QAEA,OAAO;YAAE,SAAS;QAAK;IAC3B,EAAE,OAAO,OAAY;QACjB,QAAQ,KAAK,CAAC,CAAC,+BAA+B,EAAE,eAAe,CAAC,CAAC,EAAE;QACnE,OAAO;YAAE,SAAS;YAAO,OAAO,CAAC,qBAAqB,EAAE,MAAM,OAAO,EAAE;QAAC;IAC5E;AACJ;;;IA/CsB;;AAAA,+OAAA","debugId":null}},
    {"offset": {"line": 600, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/.next-internal/server/app/%28app%29/random-chat/%5Bid%5D/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {logActivity as '4089b26089702b1e5adfebade7e2643cec0eef947b'} from 'ACTIONS_MODULE0'\nexport {botChatFlow as '40b255bfd8b59a95f5e0235c9886029314b563b0c9'} from 'ACTIONS_MODULE1'\n"],"names":[],"mappings":";AAAA;AACA","debugId":null}},
    {"offset": {"line": 690, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/%28app%29/random-chat/%5Bid%5D/page.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/(app)/random-chat/[id]/page.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/(app)/random-chat/[id]/page.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA2S,GACxU,yEACA","debugId":null}},
    {"offset": {"line": 704, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/%28app%29/random-chat/%5Bid%5D/page.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/(app)/random-chat/[id]/page.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/(app)/random-chat/[id]/page.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAuR,GACpT,qDACA","debugId":null}},
    {"offset": {"line": 718, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}}]
}