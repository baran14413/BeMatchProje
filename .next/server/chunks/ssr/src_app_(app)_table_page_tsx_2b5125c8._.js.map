{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/%28app%29/table/page.tsx"],"sourcesContent":["\n'use client';\n\nimport React, { useState } from 'react';\nimport { cn } from '@/lib/utils';\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar';\nimport { auth } from '@/lib/firebase';\nimport { User as UserIcon, Sofa } from 'lucide-react';\n\nconst SEAT_COUNT = 7;\n\nexport default function TablePage() {\n  const currentUser = auth.currentUser;\n  const [seats, setSeats] = useState<(string | null)[]>(new Array(SEAT_COUNT).fill(null));\n\n  const handleSeatClick = (index: number) => {\n    setSeats(prevSeats => {\n      const newSeats = [...prevSeats];\n      // Check if user is already seated\n      const userSeatIndex = newSeats.indexOf(currentUser?.uid || '');\n      \n      if (userSeatIndex !== -1) { // User is seated\n        if (userSeatIndex === index) { // Clicked their own seat to stand up\n          newSeats[index] = null;\n        }\n        // If they click another seat while already seated, do nothing for now\n      } else { // User is not seated\n        if (newSeats[index] === null) { // Seat is empty\n          newSeats[index] = currentUser?.uid || null;\n        }\n      }\n      return newSeats;\n    });\n  };\n\n  const renderSeat = (index: number) => {\n    const isOccupied = seats[index] !== null;\n    const isCurrentUser = isOccupied && seats[index] === currentUser?.uid;\n\n    const angle = (index / SEAT_COUNT) * 2 * Math.PI + Math.PI / 2; // Offset to start from top\n    const circleRadius = 38; // Percentage of parent width/height\n    const top = 50 - Math.sin(angle) * circleRadius;\n    const left = 50 - Math.cos(angle) * circleRadius;\n    const rotation = angle * (180 / Math.PI) + 180;\n\n    return (\n      <div\n        key={index}\n        className=\"absolute -translate-x-1/2 -translate-y-1/2 cursor-pointer group\"\n        style={{\n          top: `${top}%`,\n          left: `${left}%`,\n          transform: `translate(-50%, -50%)`,\n        }}\n        onClick={() => handleSeatClick(index)}\n      >\n        <div className=\"relative w-16 h-16 sm:w-20 sm:h-20\" style={{ transform: `rotate(${rotation}deg)`}}>\n            {/* Chair using Sofa icon for better look */}\n            <Sofa className={cn(\n                \"w-full h-full text-yellow-800 drop-shadow-lg transition-transform group-hover:scale-110\",\n                isCurrentUser && \"text-purple-600\"\n            )} strokeWidth={1.5}/>\n           \n           {/* Avatar on Seat */}\n          {isOccupied && (\n            <div className=\"absolute inset-0 flex items-center justify-center pb-2\">\n                 <Avatar className=\"w-8 h-8 sm:w-10 sm:h-10 border-2 bg-background\" style={{ transform: `rotate(${-rotation}deg)`}}>\n                    <AvatarImage src={isCurrentUser ? currentUser?.photoURL || '' : ''} />\n                    <AvatarFallback>\n                        <UserIcon className=\"w-4 h-4 sm:w-5 sm:h-5\"/>\n                    </AvatarFallback>\n                </Avatar>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"w-full h-full flex items-center justify-center bg-gray-800 relative overflow-hidden p-4\">\n        {/* Wooden floor effect */}\n      <div className=\"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/wood-plank.png')] bg-repeat opacity-20\"></div>\n      \n      {/* The Room */}\n      <div className=\"relative w-[95vw] h-[95vh] sm:w-[80vw] sm:h-[80vh] max-w-5xl max-h-[800px]\">\n\n        {/* Circular Rug */}\n        <div className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[80%] h-[80%] \n                        bg-red-900/70 rounded-full shadow-2xl border-4 border-yellow-700\n                        flex items-center justify-center\n                        bg-[url('https://www.transparenttextures.com/patterns/az-subtle.png')] bg-repeat\">\n             <div className=\"absolute inset-0 rounded-full shadow-[inset_0_0_80px_rgba(0,0,0,0.6)]\"></div>\n             {/* Rug center detail */}\n             <div className=\"w-1/4 h-1/4 rounded-full border-2 border-yellow-600/50\"></div>\n        </div>\n\n        {/* Seats */}\n        {seats.map((_, index) => renderSeat(index))}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AACA;AACA;AAAA;AANA;;;;;;;AAQA,MAAM,aAAa;AAEJ,SAAS;IACtB,MAAM,cAAc,sHAAA,CAAA,OAAI,CAAC,WAAW;IACpC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAqB,IAAI,MAAM,YAAY,IAAI,CAAC;IAEjF,MAAM,kBAAkB,CAAC;QACvB,SAAS,CAAA;YACP,MAAM,WAAW;mBAAI;aAAU;YAC/B,kCAAkC;YAClC,MAAM,gBAAgB,SAAS,OAAO,CAAC,aAAa,OAAO;YAE3D,IAAI,kBAAkB,CAAC,GAAG;gBACxB,IAAI,kBAAkB,OAAO;oBAC3B,QAAQ,CAAC,MAAM,GAAG;gBACpB;YACA,sEAAsE;YACxE,OAAO;gBACL,IAAI,QAAQ,CAAC,MAAM,KAAK,MAAM;oBAC5B,QAAQ,CAAC,MAAM,GAAG,aAAa,OAAO;gBACxC;YACF;YACA,OAAO;QACT;IACF;IAEA,MAAM,aAAa,CAAC;QAClB,MAAM,aAAa,KAAK,CAAC,MAAM,KAAK;QACpC,MAAM,gBAAgB,cAAc,KAAK,CAAC,MAAM,KAAK,aAAa;QAElE,MAAM,QAAQ,AAAC,QAAQ,aAAc,IAAI,KAAK,EAAE,GAAG,KAAK,EAAE,GAAG,GAAG,2BAA2B;QAC3F,MAAM,eAAe,IAAI,oCAAoC;QAC7D,MAAM,MAAM,KAAK,KAAK,GAAG,CAAC,SAAS;QACnC,MAAM,OAAO,KAAK,KAAK,GAAG,CAAC,SAAS;QACpC,MAAM,WAAW,QAAQ,CAAC,MAAM,KAAK,EAAE,IAAI;QAE3C,qBACE,8OAAC;YAEC,WAAU;YACV,OAAO;gBACL,KAAK,GAAG,IAAI,CAAC,CAAC;gBACd,MAAM,GAAG,KAAK,CAAC,CAAC;gBAChB,WAAW,CAAC,qBAAqB,CAAC;YACpC;YACA,SAAS,IAAM,gBAAgB;sBAE/B,cAAA,8OAAC;gBAAI,WAAU;gBAAqC,OAAO;oBAAE,WAAW,CAAC,OAAO,EAAE,SAAS,IAAI,CAAC;gBAAA;;kCAE5F,8OAAC,kMAAA,CAAA,OAAI;wBAAC,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACd,2FACA,iBAAiB;wBAClB,aAAa;;;;;;oBAGjB,4BACC,8OAAC;wBAAI,WAAU;kCACV,cAAA,8OAAC,kIAAA,CAAA,SAAM;4BAAC,WAAU;4BAAiD,OAAO;gCAAE,WAAW,CAAC,OAAO,EAAE,CAAC,SAAS,IAAI,CAAC;4BAAA;;8CAC7G,8OAAC,kIAAA,CAAA,cAAW;oCAAC,KAAK,gBAAgB,aAAa,YAAY,KAAK;;;;;;8CAChE,8OAAC,kIAAA,CAAA,iBAAc;8CACX,cAAA,8OAAC,kMAAA,CAAA,OAAQ;wCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;WAtB/B;;;;;IA8BX;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;;;;;;0BAGf,8OAAC;gBAAI,WAAU;;kCAGb,8OAAC;wBAAI,WAAU;;0CAIV,8OAAC;gCAAI,WAAU;;;;;;0CAEf,8OAAC;gCAAI,WAAU;;;;;;;;;;;;oBAInB,MAAM,GAAG,CAAC,CAAC,GAAG,QAAU,WAAW;;;;;;;;;;;;;AAI5C","debugId":null}}]
}