{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/skeleton.tsx"],"sourcesContent":["import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n"],"names":[],"mappings":";;;;AAAA;;;AAEA,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OACkC;IACrC,qBACE,8OAAC;QACC,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,qCAAqC;QAClD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/%28app%29/match/page.tsx"],"sourcesContent":["\n'use client';\n\nimport React, { useState, useEffect, useMemo, useRef } from 'react';\nimport TinderCard from 'react-tinder-card';\nimport { Button } from '@/components/ui/button';\nimport { X, Heart, Sparkles } from 'lucide-react';\nimport { collection, getDocs, query, where, limit, DocumentData } from 'firebase/firestore';\nimport { db, auth } from '@/lib/firebase';\nimport { useToast } from '@/hooks/use-toast';\nimport { Skeleton } from '@/components/ui/skeleton';\nimport Image from 'next/image';\n\ntype UserProfile = {\n  uid: string;\n  name: string;\n  age: number;\n  bio: string;\n  avatarUrl: string;\n  hobbies: string[];\n};\n\nconst UserCardSkeleton = () => (\n    <div className=\"relative w-full max-w-sm h-[60vh] rounded-2xl bg-muted shadow-lg overflow-hidden\">\n        <Skeleton className=\"w-full h-full\"/>\n        <div className=\"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 to-transparent\">\n            <Skeleton className=\"h-8 w-3/4 mb-2\" />\n            <Skeleton className=\"h-4 w-1/2\" />\n        </div>\n    </div>\n);\n\nexport default function MatchPage() {\n  const [users, setUsers] = useState<UserProfile[]>([]);\n  const [loading, setLoading] = useState(true);\n  const { toast } = useToast();\n  const [currentIndex, setCurrentIndex] = useState(0);\n\n  const currentUser = auth.currentUser;\n\n  useEffect(() => {\n    const fetchUsers = async () => {\n      if (!currentUser) {\n          setLoading(false);\n          return;\n      }\n      setLoading(true);\n      try {\n        // In a real app, you'd have more complex logic to exclude users you've already interacted with.\n        const usersQuery = query(\n          collection(db, 'users'),\n          where('uid', '!=', currentUser.uid),\n          limit(20)\n        );\n        const querySnapshot = await getDocs(usersQuery);\n        const fetchedUsers = querySnapshot.docs.map(doc => {\n            const data = doc.data();\n            return {\n                uid: doc.id,\n                name: data.name || 'Bilinmiyor',\n                age: data.age || '?',\n                bio: data.bio || '',\n                avatarUrl: data.avatarUrl || 'https://placehold.co/600x800.png',\n                hobbies: data.hobbies || []\n            }\n        }) as UserProfile[];\n        \n        // Shuffle users for variety\n        setUsers(fetchedUsers.sort(() => Math.random() - 0.5));\n        setCurrentIndex(fetchedUsers.length -1);\n\n      } catch (error) {\n        console.error(\"Error fetching users for matching:\", error);\n        toast({\n          variant: \"destructive\",\n          title: \"Kullanıcılar alınamadı\",\n          description: \"Eşleşecek kullanıcıları alırken bir sorun oluştu.\"\n        });\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchUsers();\n  }, [currentUser, toast]);\n\n  const swiped = (direction: string, uid: string) => {\n    console.log('removing: ' + uid);\n    if (direction === 'right') {\n        // Handle like logic here (e.g., write to a 'likes' subcollection)\n        toast({ title: 'Beğenildi!', className: 'bg-green-500 text-white' });\n    }\n  };\n\n  const outOfFrame = (name: string) => {\n    console.log(name + ' left the screen!');\n  };\n  \n  const childRefs = useMemo(() => Array(users.length).fill(0).map(i => React.createRef<any>()), [users.length]);\n\n  const swipe = async (dir: 'left' | 'right') => {\n      if (currentIndex < users.length) {\n        await childRefs[currentIndex].current.swipe(dir)\n      }\n  }\n\n\n  return (\n    <div className=\"flex flex-col items-center justify-center h-full p-4 text-center relative overflow-hidden\">\n      <div className=\"absolute inset-0 bg-grid-pattern opacity-[0.03] dark:opacity-[0.05]\"></div>\n      \n      <div className=\"relative w-full max-w-sm h-[70vh] flex flex-col items-center justify-center\">\n        {loading && <UserCardSkeleton />}\n        {!loading && users.length === 0 && (\n             <div className=\"text-center text-muted-foreground p-10\">\n                <p className=\"text-lg font-semibold\">Görünüşe göre şimdilik herkesle ilgilendin!</p>\n                <p className=\"text-sm\">Daha sonra yeni kişileri görmek için tekrar kontrol et.</p>\n            </div>\n        )}\n        \n        {users.map((user, index) => (\n          <TinderCard\n            ref={childRefs[index]}\n            className=\"absolute\"\n            key={user.uid}\n            onSwipe={(dir) => swiped(dir, user.uid)}\n            onCardLeftScreen={() => outOfFrame(user.name)}\n            preventSwipe={['up', 'down']}\n          >\n            <div className=\"relative w-full max-w-sm h-[60vh] rounded-2xl bg-card shadow-2xl overflow-hidden cursor-grab active:cursor-grabbing\">\n              <Image\n                src={user.avatarUrl}\n                alt={user.name}\n                fill\n                className=\"object-cover\"\n                priority\n              />\n              <div className=\"absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-transparent\" />\n              <div className=\"absolute bottom-0 left-0 right-0 p-6 text-white text-left\">\n                <h3 className=\"text-3xl font-bold\">{user.name}, {user.age}</h3>\n                <p className=\"text-base opacity-90 mt-1 line-clamp-2\">{user.bio}</p>\n                <div className=\"flex flex-wrap gap-2 mt-4\">\n                    {user.hobbies.slice(0, 3).map(hobby => (\n                        <div key={hobby} className=\"px-3 py-1 bg-white/20 rounded-full text-xs font-semibold backdrop-blur-sm\">\n                            {hobby}\n                        </div>\n                    ))}\n                </div>\n              </div>\n            </div>\n          </TinderCard>\n        ))}\n\n        <div className=\"absolute -bottom-10 flex items-center justify-center gap-8\">\n            <Button className=\"rounded-full w-20 h-20 bg-white shadow-2xl hover:bg-red-100\" size=\"icon\" onClick={() => swipe('left')}>\n                <X className=\"w-10 h-10 text-red-500\" />\n            </Button>\n            <Button className=\"rounded-full w-16 h-16 bg-white shadow-2xl hover:bg-blue-100\" size=\"icon\">\n                 <Sparkles className=\"w-8 h-8 text-blue-500\" />\n            </Button>\n            <Button className=\"rounded-full w-20 h-20 bg-white shadow-2xl hover:bg-green-100\" size=\"icon\" onClick={() => swipe('right')}>\n                 <Heart className=\"w-10 h-10 text-green-500\" fill=\"currentColor\"/>\n            </Button>\n        </div>\n\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}